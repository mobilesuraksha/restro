<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Main Menu | Ram Kishan's</title>
    
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#ea580c">

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Inter:wght@400;600;800&display=swap" rel="stylesheet">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

    <style>
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: #f8fafc;
            background-image: radial-gradient(#ea580c 0.5px, transparent 0.5px);
            background-size: 24px 24px;
        }
        .brand-font { font-family: 'Playfair Display', serif; }
        
        /* Card Hover Effects */
        .nav-card { transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        .nav-card-link:hover { transform: translateY(-8px); box-shadow: 0 20px 30px -10px rgba(234, 88, 12, 0.2); cursor: pointer; }
        
        /* Fade In Animation */
        .fade-in { animation: fadeIn 0.8s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-center p-6">

    <div class="text-center mb-10 fade-in">
        <div class="relative inline-block">
            <div class="absolute inset-0 bg-orange-200 rounded-full blur-xl opacity-50 animate-pulse"></div>
            <div class="w-24 h-24 bg-gradient-to-br from-orange-500 to-red-600 rounded-full flex items-center justify-center text-white text-4xl shadow-2xl relative z-10 mx-auto">
                <i class="fas fa-utensils"></i>
            </div>
        </div>
        <h1 class="text-5xl font-bold text-slate-900 brand-font mt-6 mb-2">Ram Kishan's</h1>
        <p class="text-orange-600 font-bold tracking-[0.3em] uppercase text-xs bg-orange-50 inline-block px-4 py-1 rounded-full border border-orange-100">System Portal</p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 w-full max-w-5xl fade-in" style="animation-delay: 0.2s;">
        
        <div class="nav-card bg-white p-6 rounded-3xl shadow-xl border border-white flex flex-col items-center text-center relative overflow-hidden group">
            <div class="absolute right-0 top-0 w-64 h-64 bg-blue-50 rounded-full blur-3xl -mr-20 -mt-20 transition group-hover:bg-blue-100"></div>
            
            <div class="z-10 mb-2 w-full flex items-center justify-between border-b border-gray-100 pb-3">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-xl bg-blue-100 text-blue-600 flex items-center justify-center text-lg shadow-sm">
                        <i class="fas fa-mobile-alt"></i>
                    </div>
                    <div class="text-left">
                        <h2 class="text-lg font-bold text-slate-800">CUSTOMER APP</h2>
                        <p class="text-slate-400 text-xs font-medium">Scan to Track Status</p>
                    </div>
                </div>
                <a href="mobile.html" class="text-xs font-bold text-blue-600 bg-blue-50 px-3 py-1 rounded-lg hover:bg-blue-600 hover:text-white transition">OPEN LINK</a>
            </div>

            <div class="z-10 bg-white p-3 rounded-xl shadow-inner border-2 border-blue-100 mt-2">
                <div id="qrcode"></div>
            </div>
            <p class="text-[10px] text-blue-500 font-bold mt-3 animate-pulse z-10 uppercase tracking-wide">
                <i class="fas fa-camera mr-1"></i> Scan with Mobile Camera
            </p>
        </div>

        <a href="entry.html" class="nav-card nav-card-link bg-white p-8 rounded-3xl shadow-xl border border-white flex items-center gap-6 group relative overflow-hidden">
            <div class="absolute right-0 top-0 w-32 h-32 bg-purple-50 rounded-full blur-3xl -mr-10 -mt-10 transition group-hover:bg-purple-100"></div>
            <div class="w-20 h-20 rounded-2xl bg-purple-50 text-purple-600 flex items-center justify-center text-3xl group-hover:bg-purple-600 group-hover:text-white transition-colors duration-300 shadow-sm z-10">
                <i class="fas fa-user-plus"></i>
            </div>
            <div class="z-10">
                <h2 class="text-2xl font-bold text-slate-800 mb-1 group-hover:text-purple-600 transition">TOKEN ENTRY </h2>
                <p class="text-slate-400 text-sm font-medium">Reception Tablet (Locked)</p>
            </div>
            <div class="ml-auto text-slate-200 text-2xl group-hover:text-purple-500 transition-transform group-hover:translate-x-2">
                <i class="fas fa-chevron-right"></i>
            </div>
        </a>

        <a href="tv.html" class="nav-card nav-card-link bg-white p-8 rounded-3xl shadow-xl border border-white flex items-center gap-6 group relative overflow-hidden">
            <div class="absolute right-0 top-0 w-32 h-32 bg-green-50 rounded-full blur-3xl -mr-10 -mt-10 transition group-hover:bg-green-100"></div>
            <div class="w-20 h-20 rounded-2xl bg-green-50 text-green-600 flex items-center justify-center text-3xl group-hover:bg-green-600 group-hover:text-white transition-colors duration-300 shadow-sm z-10">
                <i class="fas fa-tv"></i>
            </div>
            <div class="z-10">
                <h2 class="text-2xl font-bold text-slate-800 mb-1 group-hover:text-green-600 transition">TV DISPLAY</h2>
                <p class="text-slate-400 text-sm font-medium">Big Screen (Voice Enabled)</p>
            </div>
            <div class="ml-auto text-slate-200 text-2xl group-hover:text-green-500 transition-transform group-hover:translate-x-2">
                <i class="fas fa-chevron-right"></i>
            </div>
        </a>

        <a href="admin.html" class="nav-card nav-card-link bg-white p-8 rounded-3xl shadow-xl border-2 border-orange-100 flex items-center gap-6 group relative overflow-hidden ring-4 ring-orange-50/50">
            <div class="absolute right-0 top-0 w-32 h-32 bg-orange-50 rounded-full blur-3xl -mr-10 -mt-10 transition group-hover:bg-orange-100"></div>
            <div class="w-20 h-20 rounded-2xl bg-orange-100 text-orange-600 flex items-center justify-center text-3xl group-hover:bg-orange-600 group-hover:text-white transition-colors duration-300 shadow-sm z-10">
                <i class="fas fa-user-tie"></i>
            </div>
            <div class="z-10">
                <h2 class="text-2xl font-bold text-slate-800 mb-1 group-hover:text-orange-600 transition">ADMIN</h2>
                <p class="text-slate-400 text-sm font-medium">Manager Dashboard (Secured)</p>
            </div>
            <div class="ml-auto text-slate-200 text-2xl group-hover:text-orange-500 transition-transform group-hover:translate-x-2">
                <i class="fas fa-lock"></i>
            </div>
        </a>

    </div>

    <div class="mt-12 text-center fade-in" style="animation-delay: 0.4s;">
        <p class="text-slate-400 text-xs font-semibold uppercase tracking-wide">
            &copy; 2026 Ram Kishan's Sweets and Restaurant
        </p>
        <div class="flex justify-center gap-4 mt-3" id="networkStatus">
            <span class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></span>
            <span class="text-[10px] text-slate-500 font-bold">SYSTEM ONLINE</span>
        </div>
    </div>

    <script>
        // 1. Service Worker for PWA (Offline Capability)
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js').catch(err => console.log('SW Error', err));
            });
        }

        // 2. ROBUST QR CODE GENERATOR (Fixes Server Path Issues)
        // This calculates the exact current URL folder and adds 'mobile.html'
        const mobileUrl = new URL("mobile.html", window.location.href).href;
        
        console.log("Generating QR for:", mobileUrl); // Debugging

        new QRCode(document.getElementById("qrcode"), {
            text: mobileUrl,
            width: 128,
            height: 128,
            colorDark : "#2563eb", // Blue color for QR to match the card
            colorLight : "#ffffff",
            correctLevel : QRCode.CorrectLevel.H
        });

        // 3. Network Status Checker
        function updateStatus() {
            const statusDiv = document.getElementById('networkStatus');
            if (navigator.onLine) {
                statusDiv.innerHTML = '<span class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></span><span class="text-[10px] text-slate-500 font-bold">ONLINE (SYNCING)</span>';
            } else {
                statusDiv.innerHTML = '<span class="w-2 h-2 rounded-full bg-red-500"></span><span class="text-[10px] text-red-500 font-bold">OFFLINE MODE</span>';
            }
        }
        window.addEventListener('online', updateStatus);
        window.addEventListener('offline', updateStatus);
        updateStatus();
    </script>

</body>

</html>
